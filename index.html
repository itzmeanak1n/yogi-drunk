<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>‡πÇ‡∏¢‡∏Ñ‡∏µ‡∏Ñ‡∏ô‡πÄ‡∏°‡∏≤ ‚Äî ‡∏™‡∏∏‡πà‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î</title>
  <style>
    :root{
      --bg:#0f1720; --card:#111827; --accent:#ff9800; --muted:#9ca3af; --glass: rgba(255,255,255,0.03);
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; font-family:Inter, "Noto Sans Thai", system-ui, Arial;
      background:linear-gradient(180deg,#071022 0%, #071726 100%); color:#fff; display:flex; align-items:center; justify-content:center; padding:24px;
    }
    .app{width:100%; max-width:1000px}
    header{display:flex; gap:16px; align-items:center; justify-content:space-between}
    h1{margin:0;font-size:20px}
    p.lead{margin:6px 0 0; color:var(--muted); font-size:13px}
    .controls{margin:18px 0 12px; display:flex; gap:8px; flex-wrap:wrap}
    button{
      background:var(--accent); border:0; color:#111; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:600;
      box-shadow:0 6px 18px rgba(255,152,0,0.12);
    }
    button.ghost{background:transparent; color:var(--accent); border:1px solid rgba(255,152,0,0.12)}
    .layout{display:grid; grid-template-columns: 1fr 360px; gap:18px; margin-top:8px}
    @media(max-width:900px){ .layout{grid-template-columns: 1fr; } .side{order:2} }
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:28px; border-radius:16px; min-height:160px; display:flex; align-items:center; justify-content:center; text-align:center;
      font-size:22px; line-height:1.35; box-shadow: 0 6px 30px rgba(2,6,23,0.6);
    }
    .meta{display:flex; gap:12px; margin-top:12px; color:var(--muted); font-size:14px; align-items:center; flex-wrap:wrap}
    .pill{background:var(--glass); padding:8px 10px; border-radius:10px; color:var(--muted);}
    .side{display:flex; flex-direction:column; gap:12px}
    .list{background:rgba(255,255,255,0.02); padding:12px; border-radius:12px; max-height:430px; overflow:auto;}
    .list h3{margin:0 0 8px 0; font-size:14px}
    .history-item{padding:8px; border-radius:8px; margin-bottom:8px; background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.01)); font-size:14px}
    .small{font-size:13px; color:var(--muted)}
    .footer{margin-top:16px; color:var(--muted); font-size:13px}
    .danger{background:#ef4444;color:#fff}
    .muted-btn{background:#111827;color:var(--muted); border:1px solid rgba(255,255,255,0.02)}
    .top-actions{display:flex; gap:8px; align-items:center}
    .count{font-weight:700; color:var(--accent)}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div>
        <h1>‡πÇ‡∏¢‡∏Ñ‡∏µ‡∏Ñ‡∏ô‡πÄ‡∏°‡∏≤ üçª</h1>
        <p class="lead">‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡∏ï‡∏•‡∏≠‡∏î ‚Äî ‡∏™‡∏∏‡πà‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥‡∏ï‡∏≤‡∏°! (60 ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á)</p>
      </div>
      <div class="top-actions">
        <button id="shuffleBtn" class="ghost">‡∏™‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà</button>
        <button id="resetBtn" class="muted-btn">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
      </div>
    </header>

    <div class="controls">
      <button id="drawBtn">‡∏™‡∏∏‡πà‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î! üé¥</button>
      <button id="undoBtn" class="ghost">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö 1 ‡πÉ‡∏ö</button>
      <div class="pill small">‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <span id="remaining" class="count">60</span></div>
      <div class="pill small">‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß: <span id="usedCount">0</span></div>
    </div>

    <main class="layout">
      <section>
        <div class="card" id="cardDisplay">‡∏Å‡∏î "‡∏™‡∏∏‡πà‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î!" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°</div>
        <div class="meta">
          <div class="pill">‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô: ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤</div>
          <div class="pill">‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏´‡∏°‡∏î</div>
        </div>
      </section>

      <aside class="side">
        <div class="list">
          <h3>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ (‡πÉ‡∏´‡∏°‡πà‡∏™‡∏∏‡∏î‡∏ö‡∏ô)</h3>
          <div id="history"></div>
        </div>

        <div class="list">
          <h3>‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠</h3>
          <div id="remainingList" class="small"></div>
        </div>

        <div class="footer">
          <div class="small">‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà <code>index.html</code> ‡∏Ç‡∏≠‡∏á repo ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏¥‡∏î GitHub Pages (branch: main / folder: root)</div>
        </div>
      </aside>
    </main>
  </div>

  <script>
    // === ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á 60 ‡∏≠‡∏±‡∏ô (‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£) ===
    const allCards = [
      "‡πÄ‡∏≠‡∏≤‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡πâ‡∏≠‡∏¢‡πÅ‡∏ï‡∏∞‡∏Å‡πâ‡∏ô‡πÅ‡∏Å‡πâ‡∏ß",
      "‡πÉ‡∏ä‡πâ‡∏™‡∏≠‡∏á‡∏ô‡∏¥‡πâ‡∏ß‡∏Ñ‡∏µ‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏≥",
      "‡∏à‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡∏î‡πâ‡∏ß‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏°‡∏∑‡∏≠",
      "‡πÉ‡∏ä‡πâ‡∏°‡∏∑‡∏≠‡∏Ç‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏ô‡∏±‡∏î‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß",
      "‡∏à‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏µ‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏ü‡πâ‡∏≤‡πÄ‡∏™‡∏°‡∏≠",
      "‡πÉ‡∏ä‡πâ‡πÅ‡∏Ñ‡πà‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á‡∏Å‡∏±‡∏ö‡∏ô‡∏¥‡πâ‡∏ß‡∏ä‡∏µ‡πâ‡∏Ñ‡∏µ‡∏ö‡πÅ‡∏Å‡πâ‡∏ß",
      "‡∏à‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏Å‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡πâ‡∏≠‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÇ‡∏î‡∏¢‡πÉ‡∏´‡πâ‡∏ù‡πà‡∏≤‡∏°‡∏∑‡∏≠‡∏´‡∏á‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô",
      "‡∏à‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡∏™‡∏≠‡∏á‡∏°‡∏∑‡∏≠",
      "‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ï‡∏∞‡∏£‡∏¥‡∏°‡πÅ‡∏Å‡πâ‡∏ß‡πÑ‡∏ß‡πâ‡∏ï‡∏•‡∏≠‡∏î",
      "‡∏à‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏≠‡∏≤‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á‡πÅ‡∏ï‡∏∞‡∏à‡∏°‡∏π‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥‡∏ó‡πà‡∏≤‡πÇ‡∏≠‡πÄ‡∏Ñ (üëå) ‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏µ‡∏Å‡∏°‡∏∑‡∏≠",
      "‡∏à‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡πÇ‡∏î‡∏¢‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ï‡∏∞‡∏Å‡∏±‡∏ö‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡πâ‡∏≠‡∏¢‡πÄ‡∏™‡∏°‡∏≠",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏µ‡∏Å‡∏°‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≥‡∏´‡∏°‡∏±‡∏î‡πÅ‡∏ô‡πà‡∏ô",
      "‡∏à‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏µ‡∏Å‡∏°‡∏∑‡∏≠‡∏ó‡∏≥‡∏ó‡πà‡∏≤ ‚úåÔ∏è ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤",
      "‡∏´‡∏ô‡∏µ‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏Ç‡πâ‡∏≠‡∏®‡∏≠‡∏Å",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡∏∞‡∏´‡∏±‡∏ß‡πÄ‡∏Ç‡πà‡∏≤",
      "‡πÄ‡∏≠‡∏≤‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡∏°‡∏ï‡∏≠‡∏ô‡∏ñ‡∏∑‡∏≠",
      "‡∏´‡∏ô‡∏µ‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡πÑ‡∏ß‡πâ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏≤‡∏á‡∏Å‡∏±‡∏ö‡∏≠‡∏Å",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏≠‡∏≤‡∏´‡∏±‡∏ß‡πÄ‡∏≠‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤",
      "‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πâ‡∏≤‡∏ß‡∏Ç‡∏≤‡πÑ‡∏Ç‡∏ß‡πâ",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏∑‡∏ô‡∏Ç‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß",
      "‡∏à‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏≠‡∏µ‡∏¢‡∏á‡∏ï‡∏±‡∏ß‡πÑ‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢",
      "‡∏à‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏≠‡∏µ‡∏¢‡∏á‡∏ï‡∏±‡∏ß‡πÑ‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏≠‡πà‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏±‡πà‡∏á‡∏¢‡∏≠‡∏á ‡πÜ",
      "‡∏¢‡∏Å‡πÅ‡∏Å‡πâ‡∏ß‡∏™‡∏π‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏≠‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏ï‡∏∞‡πÄ‡∏≠‡∏ß",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏±‡∏Å‡πÑ‡∏´‡∏•‡πà‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ç‡πâ‡∏≤‡∏á",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏Å‡∏Ñ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏ü‡πâ‡∏≤",
      "‡πÅ‡∏ï‡∏∞‡∏Å‡πâ‡∏ô‡πÅ‡∏Å‡πâ‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢",
      "‡πÅ‡∏ï‡∏∞‡∏õ‡∏≤‡∏Å‡πÅ‡∏Å‡πâ‡∏ß‡∏Å‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡∏Ç‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤",
      "‡∏à‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ï‡∏∞‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡πâ‡∏≠‡∏¢‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏≠‡∏≤‡∏°‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏ï‡∏∞‡πÑ‡∏´‡∏•‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",
      "‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ä‡∏ô‡πÅ‡∏Å‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ)",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏≠‡∏≤‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏ï‡∏∞‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",
      "‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏Å‡πâ‡∏ß‡πÑ‡∏õ‡πÅ‡∏ï‡∏∞‡∏Å‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πâ‡∏®‡∏≠‡∏Å‡πÅ‡∏ï‡∏∞‡∏Å‡∏±‡∏ö‡∏®‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏≠‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ú‡∏≤‡∏Å‡πÅ‡∏ï‡∏∞‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô (‡πÄ‡∏ö‡∏≤ ‡πÜ)",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏ß‡∏ô‡∏£‡∏≠‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô 1 ‡∏£‡∏≠‡∏ö",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ä‡∏ô‡πÅ‡∏Å‡πâ‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô ‡πÅ‡∏ï‡πà‡∏´‡πâ‡∏≤‡∏°‡∏õ‡∏•‡πà‡∏≠‡∏¢",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏≠‡∏≤‡πÅ‡∏Ç‡∏ô‡∏û‡∏≤‡∏î‡∏ö‡πà‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏ô‡∏±‡πà‡∏á‡∏ä‡∏¥‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡∏∞‡∏™‡πâ‡∏ô‡πÄ‡∏ó‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏∑‡πà‡∏ô‡∏°‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏à‡∏±‡∏ö",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏ó‡πà‡∏≤‡∏Å‡∏î‡πÑ‡∏•‡∏Å‡πå üëç ‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ",
      "‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏£‡πâ‡∏≠‡∏á \"‡∏Ñ‡∏±‡∏°‡πÑ‡∏õ!\" ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ô‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏î‡πâ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÉ‡∏´‡∏°‡πà",
      "‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏∞ ‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏Å‡πÅ‡∏Å‡πâ‡∏ß‡∏î‡∏∑‡πà‡∏°‡∏à‡∏¥‡∏ö‡πÄ‡∏•‡πá‡∏Å ‡πÜ",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏≠‡∏á)",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏û‡∏π‡∏î‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ \"‡∏Ç‡πâ‡∏≤‚Ä¶.\" ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥‡∏ó‡πà‡∏≤‡∏ô‡∏±‡∏Å‡∏£‡∏ö‡∏¢‡∏Å‡∏î‡∏≤‡∏ö",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏î‡∏¥‡∏ô‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á 3 ‡∏Å‡πâ‡∏≤‡∏ß",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥‡∏ó‡πà‡∏≤‡∏ã‡∏π‡πÄ‡∏õ‡∏≠‡∏£‡πå‡∏Æ‡∏µ‡πÇ‡∏£‡πà‡∏Å‡∏≤‡∏á‡∏≠‡∏Å",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥‡∏ó‡πà‡∏≤‡πÑ‡∏î‡πÇ‡∏ô‡πÄ‡∏™‡∏≤‡∏£‡πå (‡∏°‡∏∑‡∏≠‡∏™‡∏±‡πâ‡∏ô ‡πÜ)",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏π‡∏î \"‡πÄ‡∏ä‡∏µ‡∏¢‡∏£‡πå‡∏™!\" ‡∏Å‡πà‡∏≠‡∏ô‡∏î‡∏∑‡πà‡∏°",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥‡∏ó‡πà‡∏≤‡πÄ‡∏ï‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏£‡πâ‡∏≠‡∏á‡∏ó‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏™‡∏±‡πâ‡∏ô ‡πÜ",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏π‡∏î‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© 1 ‡∏Ñ‡∏≥",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ô‡∏û‡∏π‡∏î‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì ‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏Å‡πÅ‡∏Å‡πâ‡∏ß‡∏î‡∏∑‡πà‡∏°",
      "‡∏ñ‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏û‡∏π‡∏î‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ \"‡πÇ‡∏¢‡∏Ñ‡∏µ‡∏Ñ‡∏ô‡πÄ‡∏°‡∏≤\" ‡πÄ‡∏™‡∏°‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏ï‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏™‡∏∏‡πà‡∏°"
    ];

    // === state ===
    let deck = [];   // shuffled deck (remaining)
    let used = [];   // used cards (history)
    const STORAGE_KEY = "yogi_drunk_state_v1";

    // === elements ===
    const cardDisplay = document.getElementById("cardDisplay");
    const drawBtn = document.getElementById("drawBtn");
    const undoBtn = document.getElementById("undoBtn");
    const remainingEl = document.getElementById("remaining");
    const usedCountEl = document.getElementById("usedCount");
    const historyEl = document.getElementById("history");
    const remainingListEl = document.getElementById("remainingList");
    const shuffleBtn = document.getElementById("shuffleBtn");
    const resetBtn = document.getElementById("resetBtn");

    // === helpers ===
    function shuffleArray(a){
      for(let i=a.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [a[i],a[j]]=[a[j],a[i]];
      }
      return a;
    }

    function saveState(){
      const st = { deck, used };
      try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(st)); }catch(e){}
    }

    function loadState(){
      try{
        const raw = localStorage.getItem(STORAGE_KEY);
        if(!raw) return false;
        const st = JSON.parse(raw);
        if(st && Array.isArray(st.deck) && Array.isArray(st.used)){
          deck = st.deck;
          used = st.used;
          return true;
        }
      }catch(e){}
      return false;
    }

    function resetDeck(){
      deck = shuffleArray(allCards.slice());
      used = [];
      saveState();
      renderAll();
    }

    function renderAll(){
      remainingEl.innerText = deck.length;
      usedCountEl.innerText = used.length;
      // history (newest first)
      historyEl.innerHTML = used.slice().reverse().map((t,i)=>`<div class="history-item">${used.length - i}. ${escapeHtml(t)}</div>`).join("") || '<div class="small">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</div>';
      // remaining list (compact)
      remainingListEl.innerHTML = deck.map((t,i)=>`<div>${i+1}. ${escapeHtml(t)}</div>`).join("") || '<div class="small">‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß</div>';
    }

    function escapeHtml(s){
      return String(s).replace(/[&<>"']/g, function(m){ return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]; });
    }

    // === actions ===
    function drawCard(){
      if(deck.length === 0){
        cardDisplay.innerText = "‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß! ‡∏Å‡∏î '‡∏™‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà' ‡∏´‡∏£‡∏∑‡∏≠ '‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á";
        return;
      }
      const c = deck.shift(); // take from top of deck
      used.push(c);
      cardDisplay.innerText = c;
      saveState();
      renderAll();
      // small feedback
      drawBtn.animate([{transform:'scale(1.03)'},{transform:'scale(1)'}], {duration:160});
    }

    function undoOne(){
      if(used.length === 0) return;
      const last = used.pop();
      deck.unshift(last);
      // show the undone card as current
      cardDisplay.innerText = "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö: " + last;
      saveState();
      renderAll();
    }

    // shuffle remaining deck in place
    function shuffleRemaining(){
      deck = shuffleArray(deck.slice());
      saveState();
      renderAll();
    }

    // reset everything and reshuffle from full set
    function hardReset(){
      if(!confirm("‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Äî ‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?")) return;
      resetDeck();
      cardDisplay.innerText = "‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÅ‡∏•‡πâ‡∏ß ‚Äî ‡∏Å‡∏î '‡∏™‡∏∏‡πà‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î!' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°";
    }

    // === events ===
    drawBtn.addEventListener("click", drawCard);
    undoBtn.addEventListener("click", undoOne);
    shuffleBtn.addEventListener("click", ()=>{ shuffleRemaining(); cardDisplay.innerText = "‡∏™‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÅ‡∏•‡πâ‡∏ß"; });
    resetBtn.addEventListener("click", hardReset);

    // allow keyboard: space = draw
    window.addEventListener("keydown", (e)=>{
      if(e.code === "Space"){ e.preventDefault(); drawCard(); }
      if(e.key === "z" && (e.ctrlKey || e.metaKey)){ e.preventDefault(); undoOne(); }
    });

    // === init ===
    (function init(){
      if(!loadState()){
        resetDeck();
        cardDisplay.innerText = "‡∏Å‡∏î '‡∏™‡∏∏‡πà‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î!' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°";
      } else {
        renderAll();
        if(used.length > 0) cardDisplay.innerText = used[used.length - 1];
      }
    })();
  </script>
</body>
</html>
